# Kaohsiung_Go

**一個專為高雄市打造的簡單、美觀、低流量整合式大眾運輸搜尋引擎**

---

## 簡介

此專案為一個輕量級的網頁應用程式，專注於整合**高雄市**的大眾運輸資訊。
有別於單一運具的查詢工具，本專案將**公車**、**捷運**、**輕軌**與 **YouBike 2.0** 資訊整合於同一張地圖上，滿足使用者轉乘與即時查詢的需求。

系統具備智慧定錨演算法與自動容錯代理機制，確保資料載入的穩定性與地圖圖標的易讀性。

**主要功能**
*   **全方位整合**：包含高雄市公車、捷運（紅線/橘線）、環狀輕軌、YouBike 2.0。
*   **即時動態**：點擊圖標即可查看公車/列車到站時間、YouBike 車位/電量資訊。
*   **智慧地圖**：
    *   採用 Leaflet 地圖框架。
    *   **智慧定錨 (Visual Anchoring)**：自動分散重疊的站點圖標，避免視覺擁擠。
    *   **自動聚合**：地圖縮小時自動合併鄰近站點，保持畫面整潔。
*   **高穩定性**：內建雙層備援代理機制 (Primary -> Secondary)，確保 API 請求不中斷。
*   **圖層管理**：可自由開關特定運具圖層（例如只看捷運或只看 YouBike）。

## ⚠️ 重要效能提示

**關於捷運/輕軌資料載入異常問題**

由於本專案捷運/輕軌資料使用CORS伺服器載入，在部分網路環境可能導致資料獲取失敗，建議切換使用行動網路或是使用**1.1.1.1**可以大幅避免問題發生機率

**關於地圖移動卡頓問題**

由於本專案在地圖上繪製了大量的 DOM 元素（圖標），若您的瀏覽器安裝了**擴充式廣告攔截器**（如 AdBlock, uBlock Origin 等）或使用支援擴充套件的手機瀏覽器（如 Kiwi Browser），可能會因為插件不斷掃描頁面元素而嚴重影響地圖拖動的流暢度。

*   **建議**：若發現地圖卡頓，請嘗試關閉該頁面的廣告攔截器，或使用無擴充套件的瀏覽器（如 Chrome 原生版）以獲得最佳體驗。

## 使用方式

1.  請前往專案網頁（或開啟 `index.html`）。
2.  瀏覽器詢問位置權限時建議**允許**，以便地圖定位至您所在位置。
3.  **瀏覽地圖**：拖動地圖查看各類交通站點。
    *   🔵 藍色：公車
    *   🟡 黃色：YouBike
    *   🔴 紅色：捷運紅線
    *   🟠 橘色：捷運橘線
    *   🟢 綠色：環狀輕軌
4.  **查看詳情**：點擊任一圖標，側邊欄將顯示即時到站資訊或車輛狀況。
5.  **搜尋站點**：上方搜尋框可輸入關鍵字查找特定站點。
6.  **圖層設定**：點擊右下角「圖層」按鈕，可獨立開關各運具顯示。

## 備註與部署說明

1.  **PWA (Progressive Web App)**：支援加入主畫面功能，建議使用 Chrome、Edge 或 Safari 以獲得最佳體驗。
2.  **定位精準度**：定位功能依賴裝置 GPS 與瀏覽器權限，室內可能會有誤差。若未開啟定位，預設中心點為高雄捷運美麗島站。
3.  **自行部署注意事項 (重要)**：
    *   程式碼中的第二代理伺服器 (`cors-anywhere.potatosserver...`) 為專案作者私有架設，**未授權公開提供給第三方專案使用**。
    *   **若您自行 Fork 或部署此專案，請務必移除或替換該代理網址**，改為您自架的 Cloudflare Worker 或其他 Proxy 服務。
    *   請注意 YouBike 與 iBus 官方 API 的請求頻率限制，避免造成 IP 封鎖。

## 資料來源

-   [高雄市公車動態資訊系統 (iBus)](https://ibus.tbkc.gov.tw/)
-   [高雄市即時交通服務網 (捷運/輕軌)](https://traffic.tbkc.gov.tw/)
-   [YouBike 微笑單車](https://www.youbike.com.tw/)

## 版權與聲明

本專案皆可自由共享與修改，但**不可用於盈利目的**。
本工具不屬於 [高雄市政府交通局](https://www.tbkc.gov.tw/)、[高雄捷運公司](https://www.krtc.com.tw/) 或 [YouBike 微笑單車股份有限公司](https://www.youbike.com.tw/) 之官方應用程式。

## 已知錯誤

*   初次載入時若資料量過大，地圖生成可能會有些微延遲。
*   載入捷運資料依靠CORS代理服務，當代理失效時可能無法載入
## 貢獻

歡迎對本專案感興趣的開發者一起參與貢獻！您可以透過 GitHub 提交 Pull Request 來改善程式碼、新增功能或修復錯誤。

## 貢獻者

*   [AndrewCho0531](https://github.com/AndrewCho0531)：邏輯編寫、UI設計、錯誤修正
